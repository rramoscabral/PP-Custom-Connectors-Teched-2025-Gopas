# Power Platform Custom Connectors - Teched 2025 - Gopas


**TechEd  2025 &#x2013; Nejv&#x11B;t&#x161;&#xED; &#x10D;eskoslovensk&#xE1; IT konference**

Konference je určena především pro vývojáře, IT profesionály, databázové specialisty, softwarové architekty a všechny, kteří se zajímají o moderní vývoj aplikací, cloudové technologie, automatizaci, bezpečnost, datové platformy a budoucnost AI v praxi.

<br>

**Session title:** Designing and Deploying Custom Connectors in Power Automate

<br/>

---

<br/>


## GitHub webhook event

Define the response that is generated by your service when an event occurs.

The developed Web API uses the following properties of a GitHub Issue event.

> Note: Not all properties of a GitHub Issue event are present.

**Schema JSON**
```json
{
  "type": "object",
  "properties": {
    "title": {
      "type": "string",
      "description": "The title of the issue."
    },
    "body": {
      "type": "string",
      "description": "The body of the issue."
    },
    "html_Url": {
      "type": "string",
      "format": "uri",
      "description": "The URL of the issue on GitHub."
    },
    "user": {
      "type": "string",
      "description": "The user who created the issue."
    },
    "repositoryName": {
      "type": "string",
      "description": "GitHub repository name as it appears in the URL."
    },
    "repositoryOwner": {
      "type": "string",
      "description": "GitHub owner of the repository."
    }
  },
  "required": [
    "html_Url",
    "user",
    "repositoryName",
    "repositoryOwner"
  ]
}
```

**Example**

```json
{
	"title": "Error authenticating",
	"body": "Login failed with error 403.",
	"html_Url": "https://github.com/rramoscabral/PP-Custom-Connectors-Teched-2025-Gopas/issues/3",
	"user": "rramoscabral",
	"repositoryName": "PP-Custom-Connectors-Teched-2025-Gopas",
	"repositoryOwner": "rramoscabral"
}
```

<br/>

## OpenAPI for Power Automate Custom Connector

OpenAPI definition is language-agnostic, machine-readable document that describes your API's operations and parameters. 

### Webhook registration request

The **"x-ms-trigger": "single"** property is a schema extension that tells **Power Automate** and **Logic Apps** to display this webhook in the list of available triggers.

```json
"post": {
        "responses": {},
        "summary": "Trigger GitHub Issue",
        "description": "Recive a GitHub Issue",
        "operationId": "TriggerGitHubIssue",
        "x-ms-trigger": "single",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": false,
            "schema": {
              "type": "object",
              "properties": {
                "email": {
                  "type": "string",
                  "description": "user email",
                  "title": "email"
                },
                "webhookUrl": {
                  "type": "string",
                  "description": "Power Automate Callback URL.",
                  "title": "webhookUrl",
                  "x-ms-visibility": "internal",
                  "x-ms-notification-url": true
                },
                "flowId": {
                  "type": "string",
                  "description": "Unique Flow Identifier in Power Automate",
                  "title": "flowId"
                },
                "ownerUsername": {
                  "type": "string",
                  "description": "GitHub owner username of the repository.",
                  "title": "OwnerUsername"
                },
                "repositoryName": {
                  "type": "string",
                  "description": "GitHub repository name as it appears in the URL.",
                  "title": "repositoryName"
                }
              },
              "required": [
                "webhookUrl",
                "email",
                "flowId",
                "ownerUsername"
              ]
            }
          }
        ]
      }
```


### x-ms-notification-content

Contains a schema definition of a webhook notification request. 
This is the schema for a webhook payload posted by external services to the notification URL (callback URL).

```json
 "/api/GitHub/customconnector-webhook": {
      "x-ms-notification-content": {
        "schema": {
          "type": "object",
          "properties": {
            "title": {
              "type": "string",
              "description": "title"
            },
            "body": {
              "type": "string",
              "description": "body"
            },
            "html_Url": {
              "type": "string",
              "description": "html_Url"
            },
            "user": {
              "type": "string",
              "description": "user"
            },
            "repositoryName": {
              "type": "string",
              "description": "repositoryName"
            },
            "repositoryOwner": {
              "type": "string",
              "description": "repositoryOwner"
            }
          }
        },
        "description": "GitHub Issue"
      },
      "post": {
        "responses": {},
        "summary": "Trigger GitHub Issue",
        "description": "Recive a GitHub Issue",
        "operationId": "TriggerGitHubIssue",
        "x-ms-trigger": "single",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": false,
            "schema": {
              "type": "object",
              "properties": {
                "email": {
                  "type": "string",
                  "description": "user email",
                  "title": "email"
                },
                "webhookUrl": {
                  "type": "string",
                  "description": "Power Automate Callback URL.",
                  "title": "webhookUrl",
                  "x-ms-visibility": "internal",
                  "x-ms-notification-url": true
                },
                "flowId": {
                  "type": "string",
                  "description": "Unique Flow Identifier in Power Automate",
                  "title": "flowId"
                },
                "ownerUsername": {
                  "type": "string",
                  "description": "GitHub owner username of the repository.",
                  "title": "OwnerUsername"
                },
                "repositoryName": {
                  "type": "string",
                  "description": "GitHub repository name as it appears in the URL.",
                  "title": "repositoryName"
                }
              },
              "required": [
                "webhookUrl",
                "email",
                "flowId",
                "ownerUsername"
              ]
            }
          }
        ]
      }
    },
```
